# file-encryptor

A small Rust program designed to encrypt and decrypt files securely using **Advanced Encryption
Standard-Galois/Counter Mode**, or [AES-GCM](https://en.wikipedia.org/wiki/Galois/Counter_Mode),
encryption with a 256-bit key. It supports password based encryption with (optionally) additional
authenticated data (AAD).

## Use Cases

You can use this tool for various purposes, though here are some examples:

- **Secure File Transfer**: Encrypt sensitive files before transferring them over insecure
  channels, such as email or USB drives. (Similar to how data transfer over the internet :))

- **Data Backup**: Enhance the security of backup files by encrypting them before storing them in
  cloud storage or external hard drives.

- **Software Configuration/Environment Variables**: Need to share those secrets?
  Encrypt them then commit to version control. Contributors can decrypt the files locally on their
  machine.

## Installation

```sh
cargo install
```

## Usage

### Cookbook

By default, all output will simply be written to standard output. I want a solution that offers
flexibility for scripting.

#### 1. Key generation

To encrypt a file, first a key must be generated.

```sh
file-encryptor keygen > mykey.key
```

You can also pass in the option `-p` (or `--password`) to generate key from a certain passphrase.

```sh
file-encryptor keygen -p "this is my password" > mykey.key
```

- NOTE: The AES256 key, which consists of 32 bytes, is generated by hashing the input password using SHA256.

#### 2. Encrypting the file `foo.txt`

To seal (encrypt) a file, say `foo.txt`:

```sh
file-encryptor seal foo.txt < mykey.key > foo_ciphered
```

With additional authenticated data:

```sh
file-encryptor seal foo.txt -a "haln_01@proton.me" < mykey.key > foo_ciphered
```

#### 3. Decrypting the ciphertext file `foo_ciphered`

To open the `foo_ciphered` file:

```sh
file-encryptor open foo.txt < mykey.key > foo-plaintext.txt
```

And if additional authenticated data was used:

```sh
file-encryptor open foo.txt -a "haln_01@proton.me" < mykey.key > foo-plaintext.txt
```

### General Usage

```sh
file-encryptor --help
A small Rust program to deal with file encryption

Usage: file-encryptor [OPTIONS] <COMMAND>

Commands:
  keygen  generate a key, from pure random bytes, or from an input password
  open    open an encrypted file
  seal    seal a plaintext file
  help    Print this message or the help of the given subcommand(s)

Options:
  -h, --help  Print help
```
